{"ast":null,"code":"var _jsxFileName = \"/Users/glenn/Desktop/2020/info30005/info30005-pear-frontend/src/pages/Account.js\";\n\n/* Accounts page handles the creation of user accounts and secure login to a\n    users account\n*/\nimport React, { useState } from \"react\";\nimport { addAccount, accountLogin } from \"../api\";\nimport \"../css/accountStyles.css\";\nimport { useHistory } from \"react-router-dom\";\n/* function contains the overall structure of the accounts page with links to \n    account and login forms \n*/\n\nexport default function Account() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"forms\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AccountAddForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 11\n    }\n  }))));\n}\n/* function contains the fields required to create an account and handles account\n    creation with the database on form submit \n*/\n\nfunction AccountAddForm() {\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [birthday, setBirthday] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  var userImage;\n  let history = useHistory();\n  /* function adds account information to the database and handles page redirect \n      to the opening support page \n  */\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    var res; //waits for a return value from add account\n\n    res = await addAccount({\n      firstName,\n      lastName,\n      email,\n      birthday,\n      password,\n      userImage\n    });\n    console.log(res); //allows page redirect only if add account is successful\n\n    if (res != null) {\n      if (res.data == \"True\") {\n        history.push(\"/support\");\n      } else {\n        alert(\"failed to create account\");\n      }\n    }\n  } //form contains all field required to create an account\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, \"Create Account\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"firstName\",\n    value: firstName,\n    onChange: event => {\n      setFirstName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"lastName\",\n    value: lastName,\n    onChange: event => {\n      setLastName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: event => {\n      setEmail(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, \"Date of Birth\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"birthday\",\n    max: \"1955-01-01\",\n    value: birthday,\n    onChange: event => {\n      setBirthday(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: event => {\n      setPassword(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, \"Profile Picture\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    value: userImage,\n    onChange: event => {\n      userImage = event.target.files[0];\n    },\n    onClick: event => {\n      event.target.value = null;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    className: \"account-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  })));\n}\n/* function checks the login credentials of a user against account details stored\n    in the database, allows access if credentials match  \n*/\n\n\nfunction Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  let history = useHistory();\n  /* function checks credentials on form submit\n   */\n\n  async function handleLogin(event) {\n    event.preventDefault();\n    var res; //waits for a return value from account login\n\n    res = await accountLogin({\n      email,\n      password\n    });\n    console.log(res.data); //allows page redirect only if credentials match\n\n    if (res != null) {\n      if (res.data != \"False\") {\n        sessionStorage.setItem(\"accountId\", res.data);\n        history.push(\"/home\");\n      } else {\n        alert(\"Invalid Login\");\n      }\n    }\n  } //form contains all field required to login to an account\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: event => {\n      setEmail(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: event => {\n      setPassword(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"account-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, \"Login\")));\n}","map":{"version":3,"sources":["/Users/glenn/Desktop/2020/info30005/info30005-pear-frontend/src/pages/Account.js"],"names":["React","useState","addAccount","accountLogin","useHistory","Account","AccountAddForm","firstName","setFirstName","lastName","setLastName","email","setEmail","birthday","setBirthday","password","setPassword","userImage","history","handleSubmit","event","preventDefault","res","console","log","data","push","alert","target","value","files","Login","handleLogin","sessionStorage","setItem"],"mappings":";;AAAA;;;AAIA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,QAAzC;AACA,OAAO,0BAAP;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA;;;;AAGA,eAAe,SAASC,OAAT,GAAmB;AAChC,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAS,IAAA,SAAS,EAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,CADF,CADF;AAWD;AAED;;;;AAGA,SAASC,cAAT,GAA0B;AACxB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;AACA,MAAIgB,SAAJ;AAEA,MAAIC,OAAO,GAAGd,UAAU,EAAxB;AAEA;;;;AAGA,iBAAee,YAAf,CAA4BC,KAA5B,EAAmC;AACjCA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAIC,GAAJ,CAFiC,CAIjC;;AACAA,IAAAA,GAAG,GAAG,MAAMpB,UAAU,CAAC;AACrBK,MAAAA,SADqB;AAErBE,MAAAA,QAFqB;AAGrBE,MAAAA,KAHqB;AAIrBE,MAAAA,QAJqB;AAKrBE,MAAAA,QALqB;AAMrBE,MAAAA;AANqB,KAAD,CAAtB;AAQAM,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAbiC,CAejC;;AACA,QAAIA,GAAG,IAAI,IAAX,EAAiB;AACf,UAAIA,GAAG,CAACG,IAAJ,IAAY,MAAhB,EAAwB;AACtBP,QAAAA,OAAO,CAACQ,IAAR,CAAa,UAAb;AACD,OAFD,MAEO;AACLC,QAAAA,KAAK,CAAC,0BAAD,CAAL;AACD;AACF;AACF,GApCuB,CAsCxB;;;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAGE;AAAM,IAAA,QAAQ,EAAER,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,WAFP;AAGE,IAAA,KAAK,EAAEZ,SAHT;AAIE,IAAA,QAAQ,EAAGa,KAAD,IAAW;AACnBZ,MAAAA,YAAY,CAACY,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAZ;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EASK,GATL,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAXF,eAYE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAEpB,QAHT;AAIE,IAAA,QAAQ,EAAGW,KAAD,IAAW;AACnBV,MAAAA,WAAW,CAACU,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAX;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,EAmBK,GAnBL,eAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBF,eAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aArBF,eAsBE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAElB,KAHT;AAIE,IAAA,QAAQ,EAAGS,KAAD,IAAW;AACnBR,MAAAA,QAAQ,CAACQ,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAR;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBF,EA6BK,GA7BL,eA8BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9BF,eA+BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBA/BF,eAgCE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,GAAG,EAAC,YAHN;AAIE,IAAA,KAAK,EAAEhB,QAJT;AAKE,IAAA,QAAQ,EAAGO,KAAD,IAAW;AACnBN,MAAAA,WAAW,CAACM,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAX;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhCF,EAwCK,GAxCL,eAyCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzCF,eA0CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA1CF,eA2CE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAEd,QAHT;AAIE,IAAA,QAAQ,EAAGK,KAAD,IAAW;AACnBJ,MAAAA,WAAW,CAACI,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAX;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3CF,EAkDK,GAlDL,eAmDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnDF,eAoDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBApDF,eAqDE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAEZ,SAFT;AAGE,IAAA,QAAQ,EAAGG,KAAD,IAAW;AACnBH,MAAAA,SAAS,GAAGG,KAAK,CAACQ,MAAN,CAAaE,KAAb,CAAmB,CAAnB,CAAZ;AACD,KALH;AAME,IAAA,OAAO,EAAGV,KAAD,IAAW;AAClBA,MAAAA,KAAK,CAACQ,MAAN,CAAaC,KAAb,GAAqB,IAArB;AACD,KARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArDF,eA+DE;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,QAA3B;AAAoC,IAAA,SAAS,EAAC,aAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/DF,CAHF,CADF;AAuED;AAED;;;;;AAGA,SAASE,KAAT,GAAiB;AACf,QAAM,CAACpB,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;AAEA,MAAIiB,OAAO,GAAGd,UAAU,EAAxB;AAEA;;;AAEA,iBAAe4B,WAAf,CAA2BZ,KAA3B,EAAkC;AAChCA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAIC,GAAJ,CAFgC,CAIhC;;AACAA,IAAAA,GAAG,GAAG,MAAMnB,YAAY,CAAC;AACvBQ,MAAAA,KADuB;AAEvBI,MAAAA;AAFuB,KAAD,CAAxB;AAIAQ,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EATgC,CAWhC;;AACA,QAAIH,GAAG,IAAI,IAAX,EAAiB;AACf,UAAIA,GAAG,CAACG,IAAJ,IAAY,OAAhB,EAAyB;AACvBQ,QAAAA,cAAc,CAACC,OAAf,CAAuB,WAAvB,EAAoCZ,GAAG,CAACG,IAAxC;AACAP,QAAAA,OAAO,CAACQ,IAAR,CAAa,OAAb;AACD,OAHD,MAGO;AACLC,QAAAA,KAAK,CAAC,eAAD,CAAL;AACD;AACF;AACF,GA5Bc,CA8Bf;;;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAM,IAAA,QAAQ,EAAEK,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAErB,KAHT;AAIE,IAAA,QAAQ,EAAGS,KAAD,IAAW;AACnBR,MAAAA,QAAQ,CAACQ,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAR;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EASK,GATL,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF,eAYE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAEd,QAHT;AAIE,IAAA,QAAQ,EAAGK,KAAD,IAAW;AACnBJ,MAAAA,WAAW,CAACI,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAX;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,EAmBK,GAnBL,eAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBF,eAqBE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,aAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aArBF,CAFF,CADF;AA8BD","sourcesContent":["/* Accounts page handles the creation of user accounts and secure login to a\n    users account\n*/\n\nimport React, { useState } from \"react\";\nimport { addAccount, accountLogin } from \"../api\";\nimport \"../css/accountStyles.css\";\nimport { useHistory } from \"react-router-dom\";\n\n/* function contains the overall structure of the accounts page with links to \n    account and login forms \n*/\nexport default function Account() {\n  return (\n    <div>\n      <section className=\"forms\">\n        <div className=\"account\">\n          <AccountAddForm />\n\n          <Login />\n        </div>\n      </section>\n    </div>\n  );\n}\n\n/* function contains the fields required to create an account and handles account\n    creation with the database on form submit \n*/\nfunction AccountAddForm() {\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [birthday, setBirthday] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  var userImage;\n\n  let history = useHistory();\n\n  /* function adds account information to the database and handles page redirect \n      to the opening support page \n  */\n  async function handleSubmit(event) {\n    event.preventDefault();\n    var res;\n\n    //waits for a return value from add account\n    res = await addAccount({\n      firstName,\n      lastName,\n      email,\n      birthday,\n      password,\n      userImage,\n    });\n    console.log(res);\n\n    //allows page redirect only if add account is successful\n    if (res != null) {\n      if (res.data == \"True\") {\n        history.push(\"/support\");\n      } else {\n        alert(\"failed to create account\");\n      }\n    }\n  }\n\n  //form contains all field required to create an account\n  return (\n    <div className=\"create\">\n      <h1>Create Account</h1>\n\n      <form onSubmit={handleSubmit}>\n        <label>First Name</label>\n        <input\n          type=\"text\"\n          name=\"firstName\"\n          value={firstName}\n          onChange={(event) => {\n            setFirstName(event.target.value);\n          }}\n        />{\" \"}\n        <br />\n        <label>Last Name</label>\n        <input\n          type=\"text\"\n          name=\"lastName\"\n          value={lastName}\n          onChange={(event) => {\n            setLastName(event.target.value);\n          }}\n        />{\" \"}\n        <br />\n        <label>Email</label>\n        <input\n          type=\"email\"\n          name=\"email\"\n          value={email}\n          onChange={(event) => {\n            setEmail(event.target.value);\n          }}\n        />{\" \"}\n        <br />\n        <label>Date of Birth</label>\n        <input\n          type=\"date\"\n          name=\"birthday\"\n          max=\"1955-01-01\"\n          value={birthday}\n          onChange={(event) => {\n            setBirthday(event.target.value);\n          }}\n        />{\" \"}\n        <br />\n        <label>Password</label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          onChange={(event) => {\n            setPassword(event.target.value);\n          }}\n        />{\" \"}\n        <br />\n        <label>Profile Picture</label>\n        <input\n          type=\"file\"\n          value={userImage}\n          onChange={(event) => {\n            userImage = event.target.files[0];\n          }}\n          onClick={(event) => {\n            event.target.value = null;\n          }}\n        />\n        <input type=\"submit\" value=\"Submit\" className=\"account-btn\" />\n      </form>\n    </div>\n  );\n}\n\n/* function checks the login credentials of a user against account details stored\n    in the database, allows access if credentials match  \n*/\nfunction Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  let history = useHistory();\n\n  /* function checks credentials on form submit\n   */\n  async function handleLogin(event) {\n    event.preventDefault();\n    var res;\n\n    //waits for a return value from account login\n    res = await accountLogin({\n      email,\n      password,\n    });\n    console.log(res.data);\n\n    //allows page redirect only if credentials match\n    if (res != null) {\n      if (res.data != \"False\") {\n        sessionStorage.setItem(\"accountId\", res.data);\n        history.push(\"/home\");\n      } else {\n        alert(\"Invalid Login\");\n      }\n    }\n  }\n\n  //form contains all field required to login to an account\n  return (\n    <div className=\"login\">\n      <h1>Login</h1>\n      <form onSubmit={handleLogin}>\n        <label>Email</label>\n        <input\n          type=\"email\"\n          name=\"email\"\n          value={email}\n          onChange={(event) => {\n            setEmail(event.target.value);\n          }}\n        />{\" \"}\n        <br />\n        <label>Password</label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          onChange={(event) => {\n            setPassword(event.target.value);\n          }}\n        />{\" \"}\n        <br />\n        <button type=\"submit\" className=\"account-btn\">\n          Login\n        </button>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}